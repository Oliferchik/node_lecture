## Проблема CPU-ёмких задач

Node.js использует один поток для выполнения всего вашего кода, если вы выполните полный тяжелых вычислений код,
вы заблокируете главный поток и Node.js не будет реагировать на любые запросы от клиентов.

Примером тяжёлых вычислений может служить - вычисление простых чисел.

Простое число — это целое (натуральное) число больше единицы и делимое только на 1 и на само себя.

![Простые числа от 1 до 100](https://miro.medium.com/max/300/0*jymtgqRKijzJ89pj.jpeg)


## Структура проекта 

`utils.js` - содержит две функции:
- isPrime - проверяет является ли число простым
- nthPrime - возвращает N простых чисел.

`index.js` - отвечает за создание сервера и использует модуль `prime.js`

## Команды

`node index.js` - запуск сервера

`./get-primes.sh N` - запуск bash скрипта который будет отправлять запрос(раз в секунду) на получение `N` простых чисел.

### Задание 1

Продемонстрируйте блокировку основного процесса:

Предположим, к нам стучатся 3 клиента:

- Первый запрашивает 5 простых чисел каждую секунду.
- Первый запрашивает 1000 простых чисел каждую секунду.
- Первый запрашивает 100000 простых чисел каждую секунду.

**Как это сэмулировать ?**

    1. Запустите 4 терминала (T1, T2, T3, T4);
    2. В первом терминале(T1) запустите сервер.
    3. В 2-4 терминалах запустите запустите bash скрипт который будет отправлять запросы на получение простых чисел.(T2 - на получение 5 чисел, T3 - 1000, T4 - 100000)

Когда третий клиент шлёт запрос — главный поток блокируется и это главный признак проблемы CPU-ёмких задач.

Когда главный поток занят исполнением «тяжёлой» задачи он становится недоступен для других задач.


### Задание 2

Исправте код так, чтобы решить проблему блокировки основного потока.

Подсказка: используйте [воркеры и их потоки](https://nodejs.org/api/worker_threads.html).


